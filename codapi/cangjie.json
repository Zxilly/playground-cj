{
  "run": {
    "engine": "docker",
    "entry": "main.cj",
    "steps": [
      {
        "box": "cangjie",
        "command": [
          "sh",
          "-c",
          "output=$(/cangjie/bin/cjc --static-std --static-libs -o /tmp/main main.cj 2>&1); if [ -n \"$output\" ]; then echo \"$output\" >&2; exit 1; else /tmp/main; fi"
        ]
      }
    ]
  },
  "format": {
    "engine": "docker",
    "entry": "main.cj",
    "steps": [
      {
        "box": "cangjie",
        "command": [
          "sh",
          "-c",
          "output=$(cjfmt -f main.cj -o /tmp/fmt.cj 2>&1); if [ -n \"$output\" ]; then echo \"$output\" >&2; exit 1; else cat /tmp/fmt; fi"
        ]
      }
    ]
  }
}
