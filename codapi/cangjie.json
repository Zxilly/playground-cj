{
  "run": {
    "engine": "docker",
    "entry": "main.cj",
    "steps": [
      {
        "box": "cangjie",
        "command": [
          "/cangjie/bin/cjc",
          "--diagnostic-format",
          "noColor",
          "--static-std",
          "--static-libs",
          "-o",
          "/tmp/main",
          "main.cj"
        ]
      },
      {
        "box": "cangjie",
        "command": [
          "/tmp/main"
        ]
      }
    ]
  },
  "format": {
    "engine": "docker",
    "entry": "main.cj",
    "steps": [
      {
        "box": "cangjie",
        "command": [
          "sh",
          "-c",
          "output=$(cjfmt -f main.cj -o /tmp/fmt.cj 2>&1); if [ -n \"$output\" ]; then echo \"$output\" >&2; exit 1; else cat /tmp/fmt; fi"
        ]
      }
    ]
  }
}
